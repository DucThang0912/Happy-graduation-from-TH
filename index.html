<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·ªùi M·ªùi T·ªët Nghi·ªáp t·ª´ Thi√™n H∆∞∆°ng</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
    <meta name="description" content="L·ªùi m·ªùi tham d·ª± l·ªÖ t·ªët nghi·ªáp c·ªßa Thi√™n H∆∞∆°ng - M·ªôt kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ">
    <meta name="keywords" content="t·ªët nghi·ªáp, l·ªÖ trao b·∫±ng, Thi√™n H∆∞∆°ng, l·ªùi m·ªùi">
</head>
<body>
    <!-- Background Canvas for 3D Effects -->
    <canvas id="three-canvas" aria-hidden="true"></canvas>
    
    <!-- Floating Background Elements -->
    <div class="floating-elements" aria-hidden="true">
        <div class="floating-circle circle-1"></div>
        <div class="floating-circle circle-2"></div>
        <div class="floating-circle circle-3"></div>
        <div class="floating-circle circle-4"></div>
        <div class="floating-circle circle-5"></div>
    </div>

    <main>
        <!-- Initial Form Screen -->
        <section id="form-container" class="container active">
            <div class="card form-card">
                <div class="card-header">
                    <div class="graduation-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 3L1 9L12 15L21 12.09V17H23V9L12 3ZM5 13.18V17.18C5 19.45 8.58 21 12 21S19 19.45 19 17.18V13.18L12 15.82L5 13.18Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <h1>G·ª≠i l·ªùi nh·∫Øn</h1>
                    <p>Thi√™n H∆∞∆°ng v√¥ c√πng bi·∫øt ∆°n v√¨ b·∫°n ƒë√£ d√†nh th·ªùi gian t·ªõi tham d·ª±!</p>
                </div>
                
                <form id="wish-form" class="wish-form">
                    <div class="input-group">
                        <label for="name">
                            <span class="label-text">Nh·∫≠p nickname ii b·∫°n!!</span>
                            <span class="label-icon">‚ú®</span>
                        </label>
                        <div class="input-wrapper">
                            <input type="text" id="name" placeholder="Nh·∫≠p ·ªü ƒë√¢y n√®..." required autocomplete="name" maxlength="50">
                            <div class="input-highlight"></div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="user-type">
                            <span class="label-text">B·∫°n l√†</span>
                            <span class="label-icon">üéì</span>
                        </label>
                        <div class="custom-select-wrapper">
                            <div class="custom-select" id="custom-select">
                                <div class="custom-select__trigger">
                                    <span class="custom-select__placeholder">Ch·ªçn lo·∫°i kh√°ch m·ªùi...</span>
                                    <div class="custom-select__arrow">
                                        <svg width="12" height="8" viewBox="0 0 12 8" fill="none">
                                            <path d="M1 1L6 6L11 1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="custom-select__options">
                                    <span class="custom-select__option" data-value="outsider">
                                        <span class="option-icon">üë•</span>
                                        <span class="option-text">Ng∆∞·ªùi ngo√†i</span>
                                        <span class="option-desc">Kh√°ch m·ªùi t·ª´ b√™n ngo√†i tr∆∞·ªùng</span>
                                    </span>
                                    <span class="custom-select__option" data-value="student">
                                        <span class="option-icon">üéì</span>
                                        <span class="option-text">Sinh vi√™n trong tr∆∞·ªùng</span>
                                        <span class="option-desc">Sinh vi√™n ƒëang h·ªçc t·∫°i tr∆∞·ªùng</span>
                                    </span>
                                </div>
                            </div>
                            <select id="user-type" required style="display: none;">
                                <option value="">Ch·ªçn lo·∫°i kh√°ch m·ªùi...</option>
                                <option value="outsider">Ng∆∞·ªùi ngo√†i</option>
                                <option value="student">Sinh vi√™n trong tr∆∞·ªùng</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <span class="btn-text">G·ª≠i & Nh·∫≠n Thi·ªáp</span>
                        <span class="btn-icon">üéÅ</span>
                        <div class="btn-shimmer"></div>
                    </button>
                </form>
            </div>
        </section>

        <!-- Gift Opening Screen -->
        <section id="gift-container" class="container">
            <div class="gift-scene">
                <h2 class="gift-title">M√≥n qu√† ƒë·∫∑c bi·ªát d√†nh cho b·∫°n!</h2>
                <div id="gift-wrapper" role="button" aria-label="M·ªü h·ªôp qu√†" tabindex="0">
                    <div id="gift-box">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                            <defs>
                                <linearGradient id="boxGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color: #ff9a9e"/>
                                    <stop offset="50%" style="stop-color: #fecfef"/>
                                    <stop offset="100%" style="stop-color: #ffc3d4"/>
                                </linearGradient>
                                <linearGradient id="ribbonGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color: #ffd89b"/>
                                    <stop offset="100%" style="stop-color: #19547b"/>
                                </linearGradient>
                                <filter id="glow">
                                    <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                    <feMerge> 
                                        <feMergeNode in="coloredBlur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                            </defs>
                            
                            <g class="gift-body">
                                <rect class="box" x="10" y="45" width="80" height="45" rx="5" ry="5" fill="url(#boxGradient)"/>
                                <rect class="ribbon-v" x="42.5" y="45" width="15" height="45" fill="url(#ribbonGradient)"/>
                            </g>
                            
                            <g class="lid">
                                <rect class="box" x="5" y="25" width="90" height="20" rx="5" ry="5" fill="url(#boxGradient)"/>
                                <path class="ribbon-h" d="M5,35 H95" stroke="url(#ribbonGradient)" stroke-width="4"/>
                                <g class="bow-container">
                                    <path class="bow" d="M 50,25 C 40,5 25,5 25,25 z" fill="url(#ribbonGradient)"/>
                                    <path class="bow" d="M 50,25 C 60,5 75,5 75,25 z" fill="url(#ribbonGradient)"/>
                                    <path class="bow-tail" d="M48,25 Q40,40 43,50" stroke="url(#ribbonGradient)" stroke-width="3" fill="none"/>
                                    <path class="bow-tail" d="M52,25 Q60,40 57,50" stroke="url(#ribbonGradient)" stroke-width="3" fill="none"/>
                                    <circle class="bow-knot" cx="50" cy="25" r="6" fill="url(#ribbonGradient)" filter="url(#glow)"/>
                                </g>
                            </g>
                        </svg>
                    </div>
                    
                    <!-- Enhanced Sparkles -->
                    <div class="sparkles" aria-hidden="true">
                        <span class="sparkle sparkle-1">‚ú®</span>
                        <span class="sparkle sparkle-2">‚≠ê</span>
                        <span class="sparkle sparkle-3">üí´</span>
                        <span class="sparkle sparkle-4">üåü</span>
                        <span class="sparkle sparkle-5">‚ú®</span>
                        <span class="sparkle sparkle-6">‚ö°</span>
                    </div>
                </div>
                <p class="gift-instruction">Nh·∫•n v√†o h·ªôp qu√† ƒë·ªÉ m·ªü!</p>
            </div>
        </section>

        <!-- Reveal Invitation Screen -->
        <section id="reveal-container" class="container">
            <div class="invitation-wrapper">
                <div class="invitation-layout">
                    <div class="invitation-image-section">
                        <div class="image-frame">
                            <img id="revealed-image" src="" alt="Thi·ªáp m·ªùi t·ªët nghi·ªáp c·ªßa Thi√™n H∆∞∆°ng" loading="lazy"/>
                            <div class="image-overlay"></div>
                        </div>
                    </div>
                    
                    <div class="invitation-content-section">
                        <div class="thank-you-message">
                            <p id="revealed-wish"></p>
                        </div>
                        
                        <div id="invitation-details" class="invitation-details">
                            <!-- Content will be injected by JavaScript -->
                        </div>
                        
                        <div class="action-buttons">
                            <button id="reset-button" class="reset-btn">
                                <span>G·ª≠i l·ªùi nh·∫Øn kh√°c</span>
                                <svg viewBox="0 0 24 24" fill="none">
                                    <path d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z" stroke="currentColor" stroke-width="2"/>
                                    <path d="M12 8V12L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Enhanced Confetti Canvas -->
    <canvas id="confetti-canvas" aria-hidden="true"></canvas>
    
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-content">
            <div class="loading-icon">üéì</div>
            <div class="loading-text">ƒêang chu·∫©n b·ªã...</div>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.164.1/build/three.module.js"
      }
    }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>